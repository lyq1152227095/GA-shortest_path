% img = zeros(m*32,n*32);
% for i = 1:m
%     img(i*32:i*32,:)=255;
% end
% for i = 1:n
%     img(:,i*32:i*32)=255;
% end
% 
% for i=1:m
%     for j=1:n
%         if map(i,j)==1
%             img((i-1)*32:i*32,(j-1)*32:j*32)=255;
%         end
%     end
% end
% 
% tempx = x;
% tempy = y;
% f_x=0;
% f_y=0;
% nextx = x;
% nexty = y;
% for i = 1:dis(1,2)
%     f = path(i);
%     switch f
%         case 1
%             nextx = tempx;
%             nexty = tempy-1;
%             f_x=0;
%             f_y=-1;
%              fprintf('1');
%         case 2
%             nextx = tempx;
%             nexty = tempy+1;
%             f_x = 0;
%             f_y = 1;
%             fprintf('2');
%         case 3
%             nextx = tempx-1;
%             nexty = tempy;
%             f_x = -1;
%             f_y = 0;
%             fprintf('3');
%         case 4
%             nextx = tempx+1;
%             nexty = tempy;
%             f_x = 1;
%             f_y = 0;
%             fprintf('4');
%         case 5
%             nextx = tempx-1;
%             nexty = tempy-1;
%             f_x = -1;
%             f_y = -1;
%             fprintf('5');
%         case 6
%             nextx = tempx+1;
%             nexty = tempy-1;
%             f_x = 1;
%             f_y = -1;
%             fprintf('6');
%         case 7
%             nextx = tempx-1;
%             nexty = tempy+1;
%             f_x = -1;
%             f_y = 1;
%             fprintf('7');
%         case 8
%             nextx = tempx+1;
%             nexty = tempy+1;
%             f_x = 1;
%             f_y = 1;
%             fprintf('8');
%     end
%    % fprintf('(%d,%d)----',tempx,tempy);
%    % fprintf('(%d,%d)\n',nextx,nexty);
%    % fprintf('s_x = %d',((tempx-1)*32+16));
%     %fprintf('s_y = %d',((tempy-1)*32+16));
%     img = pic(img,((tempx-1)*32+16),((tempy-1)*32+16),((nextx-1)*32+16),((nexty-1)*32+16),f_x,f_y);
%     tempx = nextx;
%     tempy = nexty;
% end
% imshow(img);


% j=1;
% while j<=size(p,1)
%     fprintf('%d---',j);
%     fprintf('%d',size(p,1));
%     temp = p(j,:);
%     [s,l] = ismember(temp,p(j+1:end,:),'rows');
%     fprintf('   l=%d',l);
%     if l~=0
%         p(j+1:j+l,:) = [];
%         fprintf('  %d  ',size(p,1));
%     end
%     j=j+1;
% end


% p =[50,160;51,160;51,161;52,161;52,162;52,163;51,163;51,164;52,165;53,165;54,166;54,165;54,164;55,165;56,166;57,166;58,167;59,166;60,167;60,166;61,165;61,164;60,163;61,163;62,162;63,163;64,163;65,163;66,164;67,165;68,164;69,164;69,163;68,162;67,162;66,161;67,160;67,159;68,158;68,157;69,156;69,155;68,156;67,155;66,154;65,153;64,154;63,155;64,156;65,155;65,154;66,153;66,152;67,152;68,153;69,152;70,152;69,151;69,150;70,151;71,150;71,151;72,151;73,152;74,153;74,154;73,155;74,156;75,157;75,156;76,157;76,156;77,157;78,158;77,159;78,160;77,161;77,162;78,161;79,161;80,160;80,161;79,160;80,159;81,159;82,160;83,161;84,162;84,163;84,164;85,164;86,164;87,163;88,162;89,163;90,163;90,164;90,165;89,165;88,166;89,166;89,167;88,167;89,168;90,168;91,169;90,170;91,171;91,172;92,173;92,174;91,175;90,175;90,176;89,176;88,177;87,176;88,175;89,175;88,176;87,175;86,176;85,176;84,177;84,176;84,175;83,174;83,175;82,176;82,177;81,178;82,179;83,179;84,180;83,181;84,181;83,182;82,182;81,183;80,183;81,184;82,185;83,185;83,186;84,187;84,188;85,188;86,187;87,187;88,188;88,187;88,186;89,186;89,185;90,185;89,184;90,183;91,182;92,181;91,180;92,180;93,180;94,180;95,181;95,182;96,183;95,183;96,184;97,183;98,183;99,184;99,183;100,183;101,182;102,182;103,182;104,183;104,184;103,185;104,186;104,187;105,187;104,188;104,189;105,189;106,190;107,189;108,189;109,188;110,188;111,189;111,190;110,191;111,191;112,190;113,190;114,190;115,191;115,192;114,192;113,193;112,194;111,193;112,193;111,194;112,195;113,195;114,195;114,196;114,197;115,197;116,196;117,196;117,197;118,198;117,198;116,199;117,200;118,200;119,200;118,201;117,202;116,203;116,204;115,204;115,205;115,206;116,206;117,206;117,207;116,208;115,207;115,208;114,209;113,210;113,211;114,210;115,211;116,212;116,213;117,214;116,215;115,214;116,214;117,215;118,214;119,215;120,216;120,217;121,218;122,217;123,216;124,215;125,215;124,214;124,213;123,212;123,211;123,210;124,211;124,210;124,209;123,208;124,207;125,206;126,205;127,206;128,207;129,207;129,206;130,206;131,205;130,204;131,203;130,202;130,203;131,204;132,203;133,204;134,203;133,203;132,202;132,201;132,200;131,199;132,199;133,198;134,197;133,196;132,195;131,195;130,194;131,193;131,192;132,191;131,190;130,189;131,188;131,189;132,188;133,188;134,187;135,186;134,185;133,184;133,185;134,184;135,183;136,183;137,183;137,184;137,185;137,186;138,186;139,185;140,184;140,185;141,184;141,185;142,185;142,186;143,186;144,186;144,185;143,184;143,183;142,182;141,182;140,182;141,181;142,181;143,182;144,182;145,183;145,184;146,183;147,182;147,183;148,183;149,184;150,185;149,185;148,185;149,186;150,186;151,185;152,185;153,184;154,183;155,183;156,183;157,183;157,184;157,185;156,186;156,185;157,186;158,187;158,188;157,188;156,189;157,190;158,190;159,190;159,189;160,189;160,188;161,187;161,188;162,189;162,188;163,189;164,188;164,187;165,187;166,187;167,188;167,189;167,190;168,190;167,191;166,192;167,193;167,194;168,195;169,194;169,193;170,194;169,195;168,196;168,197;169,197;170,196;171,197;172,197;171,198;171,199;172,200;173,201;174,201;174,202;173,203;172,204;172,205;173,204;173,205;172,206;173,207;172,207;173,206;174,207;174,208;175,209;176,210;177,211;178,211;179,210;179,211;178,212;177,212;178,213;178,214;179,215;180,215;181,216;182,216;183,216;183,215;182,214;183,214;184,214;185,215;184,216;184,217;185,218;186,219;185,220;186,220;186,221;185,221;184,222;185,222;186,223;187,222;188,221;189,221;190,221;191,222;191,221;192,220;191,220;192,219;193,219;194,219;195,220;194,221;195,221;196,222;195,223;196,224;196,225;197,226;197,227;198,226;199,227;198,227;198,228;197,229;196,228;195,229;196,230;196,231;197,231;197,232;198,233;197,233;197,234;197,235;197,236;196,236;197,237;196,238;196,239;196,240;196,241;196,242;197,243;197,244;198,245;197,245;197,246;196,247;195,246;194,246;195,245;194,244;194,245;193,246;192,246;191,245;190,246;191,247;191,248;192,248;192,249;192,250;191,250;191,251;192,251;191,252;191,253;191,254;192,253;192,252;193,253;194,252;194,251;195,250;194,249;195,249;196,249;196,248;197,248;198,249;199,250;200,251;201,250;202,251;203,250;204,249;204,250;205,251;205,252;205,253;204,254;205,255;205,256;204,256;203,257;203,258;202,258;201,259;200,259;200,260;];
% q = zeros(size(p));
% q(1,:) = [x,y];
% c=2;
% j=2;
% while j<size(p,1)
%     fprintf('%d,%d',p(j-1,:)-p(j,:));
%     fprintf('   ==%d,%d\n',p(j,:)-p(j+1,:));
%     an = (p(j-1,:)-p(j,:)==p(j,:)-p(j+1,:));
%     if an(1)~=1||an(2)~=1
%         fprintf('c =%d\n',c);
%          q(c,:) = p(j,:);
%          c=c+1;    
%     end
%     j=j+1; 
% end
% q(c,:) = [x_end,y_end];
% q(c+1:end,:)= [];

















